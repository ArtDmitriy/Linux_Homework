
                    Урок 6. Введение в скрипты Bash. Планировщики задач crontab и at.



1. Вывести на экран 3 раза имя пользователя, от которого запускается команда.

# создадим файл с Bash-скриптом
cat > user3.sh
#!/bin/bash
for char in {1..3}
  do
      echo $USER
  done

# вывести на экран содержимое нового файла
cat user3.sh

# исполнить скрипт
bash user3.sh



2. Вывести с помощью цикла while все четные числа от 0 до 100 включительно.

# создадим файл с Bash-скриптом
cat > print100
#! bin/bash/
x=0
while [ $x -lt 102 ]
do
      # echo $x # будет выводить каждое число в новой строке
      printf "${x} "
      let x+=2
      # x=$(( $x + 2 )) # то же присвоение, но в другом синтаксисе
done
echo "" # вывод пустой строки

# исполнить скрипт
bash user3.sh


3. Создать с помощью nano файл test.txt. Настроить автоматический бэкап этого файла раз в 10 минут
 в файл с названием test.txt.bak с использованием cron.

# создадим файл
nano test.txt

# добавим правило для планировщика задач cron
crontab –e

# вариант решения утилитой cat
*/10  * * * * cat /home/student/test.txt > /home/student/test.txt.bak
# вариант решения утилитой cp (копирование файла)
*/10  * * * * cp –b /path/to/file/test.txt /path/to/file/test.txt.bak

